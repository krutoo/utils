# Rspack plugins

export const meta = {
  title: 'Overview',
  category: 'Rspack',
  menuPriority: 1000,
};

This package contains several plugins for [Rspack](https://rspack.dev/) that aims to make config simple, short and concise.

You can perceive this as an attempt to make **Rspack** similar to [Vite](https://vite.dev/) in terms of functionality out of the box, while keeping maximum flexibility and performance.

## Brief overview

All Rspack specific utils available from `/rspack` pathname.

You can just import plugins to your Rspack configuration file (`.ts`, `.js`, CJS or ESM no matter) and use it:

### `pluginTypeScript`

Typescript support.

Features:

- Builtin SWC loader used under the hood so you don't need to add rule for files
- By default root tsconfig.json will be used for define path aliases so you don't need to add `resolve.alias.tsConfig` option to config
- By default `js, jsx, ts, tsx, mts, cts` files handled

```js
// rspack.config.js
import { pluginTypeScript } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginTypeScript(),
  ],
};
```

### `pluginCSS`

CSS and css-modules support.

```js
import { pluginCSS } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginCSS(),
  ],
};
```

### `pluginHTML`

HTML file will be added to bundle.
By default modern options is applied to builtin HTML plugin.

```js
import { pluginHTML } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginHTML(),
  ],
};
```

### `pluginReactSVG`

Allows to import SVG files as React-components.

[@svgr/webpack](https://react-svgr.com/docs/webpack/) must be installed in your project.

> @svgr/webpack is a part of Webpack ecosystem but don't worry - it is compatible with Rspack

```js
import { pluginReactSVG } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginReactSVG(),
  ],
};
```

### `pluginPublicFiles`

Folder "public" in project root will be copied to bundle as is.

```js
import { pluginPublicFiles } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginPublicFiles(),
  ],
};
```

### `pluginRawImport`

Ability to import source code of file by:

- adding `?raw` query to import specifier
- or by adding import attribute like `with { type: 'text' }`

```js
import { pluginRawImport } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginRawImport(),
  ],
};
```

### `pluginStaticAssets`

Common file types like images, sounds and fonts will be imported as urls to resource so you don't need to add rules for it.

```js
import { pluginStaticAssets } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginStaticAssets(),
  ],
};
```

### `pluginImportMetaEnv`

Same as builtin [EnvironmentPlugin](https://rspack.dev/plugins/webpack/environment-plugin) but allows to use variables as `import.meta.env.APP_NAME`.

```js
import { pluginImportMetaEnv } from '@krutoo/utils/rspack';

export default {
  plugins: [
    // just use plugin function
    pluginImportMetaEnv(['NODE_ENV', 'DEBUG']),
  ],
};
```
